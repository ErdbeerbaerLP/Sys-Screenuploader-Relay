plugins {
    id 'java'
    id 'application'
    id 'com.github.johnrengelman.shadow' version '7.0.0'
}
group = 'de.erdbeerbaerlp.sysscreenuploaderRelay'
mainClassName = 'de.erdbeerbaerlp.sysscreenuploaderRelay.Main'
version = '1.0-SNAPSHOT'

compileJava.options.encoding = 'UTF-8'
repositories {
    maven {
        name 'm2-dv8tion'
        url 'https://m2.dv8tion.net/releases'
    }
    mavenCentral()
    maven {
        url "https://jitpack.io"
    }
}
configurations {
    embed
    compileOnly.extendsFrom(embed)
}
shadowJar {
    configurations = [project.configurations.embed]
}
artifacts {
    archives tasks.shadowJar
}
dependencies {
    embed("club.minnced:discord-webhooks:0.8.4")
    embed("io.javalin:javalin:5.6.3")
    embed("org.slf4j:slf4j-simple:2.0.7")
    embed("com.google.code.gson:gson:2.10.1")
}
jar {
    manifest {
        attributes(
                'Main-Class': mainClassName
        )
    }
}